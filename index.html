<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Check you daily habits behind the curtains</title>
      <style>
         * { margin: 0; padding: 0; box-sizing: border-box; }
         body {
         font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
         min-height: 100vh;
         padding: 20px;
         transition: background 0.5s, color 0.5s;
         position: relative;
         overflow-x: hidden;
         }
         /* Background Layers */
         .stars, .clouds, .waves, .leaves, .petals, .snowflakes, .raindrops {
         position: fixed;
         top: 0; left: 0;
         width: 100%; height: 100%;
         pointer-events: none;
         overflow: hidden;
         z-index: 0;
         }
         /* Stars */
         .star {
         position: absolute;
         width: 2px; height: 2px;
         background: white;
         border-radius: 50%;
         animation: twinkle 2s infinite alternate;
         }
         @keyframes twinkle {
         from { opacity: 0.2; }
         to { opacity: 1; }
         }
         /* Clouds */
         .cloud {
         position: absolute;
         background: #fff;
         background: rgba(255,255,255,0.9);
         border-radius: 50%;
         animation: float 60s linear infinite;
         }
         @keyframes float {
         from { transform: translateX(-200px); }
         to { transform: translateX(100vw); }
         }
         .cloud::before, .cloud::after {
         content: '';
         position: absolute;
         background: inherit;
         border-radius: 50%;
         }
         .cloud::before {
         width: 100%; height: 100%;
         top: -20px; left: 20px;
         }
         .cloud::after {
         width: 60%; height: 60%;
         top: 10px; left: -30px;
         }
         
         /* Waves */
         .wave {
         position: absolute;
         bottom: 0;
         left: 0;
         width: 200%;
         height: 100px;
         background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.2), transparent);
         border-radius: 50%;
         animation: wave-motion 12s ease-in-out infinite;
         }
         .wave:nth-child(2) {
         animation-delay: -4s;
         height: 80px;
         opacity: 0.6;
         }
         .wave:nth-child(3) {
         animation-delay: -8s;
         height: 60px;
         opacity: 0.4;
         }
         @keyframes wave-motion {
         0%, 100% { transform: translateX(-50%) translateY(0px); }
         50% { transform: translateX(-50%) translateY(-15px); }
         }
         
         /* Bubbles */
         .bubble {
         position: absolute;
         border-radius: 50%;
         background: rgba(236, 254, 255, 0.6);
         animation: bubble-rise 6s linear infinite;
         }
         @keyframes bubble-rise {
         0% { transform: translateY(0) scale(0); opacity: 0; }
         10% { opacity: 1; }
         90% { opacity: 1; }
         100% { transform: translateY(-100vh) scale(1); opacity: 0; }
         }
         
         /* Leaves */
         .leaf {
         position: absolute;
         width: 12px;
         height: 12px;
         background: #22c55e;
         border-radius: 0 100% 0 100%;
         animation: leaf-fall 8s linear infinite;
         }
         .leaf:nth-child(2n) { background: #16a34a; }
         .leaf:nth-child(3n) { background: #15803d; }
         @keyframes leaf-fall {
         0% { transform: translateY(0) rotate(0deg); opacity: 1; }
         100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
         }
         
         /* Petals */
         .petal {
         position: absolute;
         width: 8px;
         height: 8px;
         background: #ec4899;
         border-radius: 50% 0 50% 0;
         animation: petal-fall 10s linear infinite;
         }
         .petal:nth-child(2n) { background: #db2777; }
         .petal:nth-child(3n) { background: #be185d; }
         @keyframes petal-fall {
         0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
         50% { transform: translateY(50vh) rotate(180deg) scale(0.8); }
         100% { transform: translateY(100vh) rotate(360deg) scale(0.6); opacity: 0; }
         }
         
         /* Snowflakes */
         .snowflake {
         position: absolute;
         color: #ffffff;
         font-size: 1em;
         animation: snowfall 10s linear infinite;
         text-shadow: 0 0 3px rgba(14, 165, 233, 0.5);
         }
         .snowflake:nth-child(2n) { font-size: 0.8em; animation-duration: 12s; }
         .snowflake:nth-child(3n) { font-size: 1.2em; animation-duration: 8s; }
         .snowflake:nth-child(4n) { font-size: 0.6em; animation-duration: 14s; }
         @keyframes snowfall {
         0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 1; }
         100% { transform: translateY(100vh) translateX(100px) rotate(360deg); opacity: 0; }
         }
         
         /* Raindrops */
         .raindrop {
         position: absolute;
         width: 2px;
         height: 15px;
         background: linear-gradient(to bottom, transparent, #3b82f6, transparent);
         border-radius: 0 0 50% 50%;
         animation: rainfall 1s linear infinite;
         }
         .raindrop:nth-child(2n) { height: 12px; animation-duration: 0.8s; }
         .raindrop:nth-child(3n) { height: 18px; animation-duration: 1.2s; }
         @keyframes rainfall {
         0% { transform: translateY(-20px) translateX(0); opacity: 0; }
         10% { opacity: 1; }
         90% { opacity: 1; }
         100% { transform: translateY(100vh) translateX(-50px); opacity: 0; }
         }
         /* Content container */
         .container {
         position: relative;
         z-index: 1;
         max-width: 600px;
         margin: 0 auto;
         padding: 20px;
         }
         .header { text-align: center; margin-bottom: 40px; }
         .header h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 4px; }
         .header h2 { font-size: 1.4rem; font-weight: 500; margin-bottom: 16px; margin-top: 8px; }
         .header p { font-size: 1.1rem; opacity: 0.8; margin-bottom: 20px; }
         .daily-quote {
         font-style: italic;
         font-size: 0.95rem;
         opacity: 0.7;
         max-width: 400px;
         margin: 0 auto;
         line-height: 1.4;
         }
         .quote-text {
         display: block;
         margin-bottom: 4px;
         }
         .quote-author {
         font-size: 0.85rem;
         opacity: 0.6;
         }
         .theme-toggle {
         position: absolute;
         top: 20px;
         right: 20px;
         width: 60px;
         height: 60px;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         z-index: 2;
         transition: all 0.5s ease;
         overflow: hidden;
         }
         .theme-toggle:hover {
         transform: scale(1.1);
         }
         
         /* Theme Dropdown */
         .theme-dropdown {
         position: relative;
         }
         .theme-dropdown-toggle {
         width: 60px;
         height: 60px;
         border: none;
         border-radius: 50%;
         cursor: pointer;
         z-index: 2;
         transition: all 0.3s ease;
         overflow: hidden;
         background: transparent;
         display: flex;
         align-items: center;
         justify-content: center;
         position: relative;
         }
         .theme-dropdown-toggle:hover {
         transform: scale(1.1);
         }
         .current-theme-icon {
         width: 100%;
         height: 100%;
         position: relative;
         }
         .dropdown-arrow {
         position: absolute;
         bottom: 2px;
         right: 2px;
         font-size: 8px;
         opacity: 0.7;
         transition: transform 0.3s ease;
         }
         .theme-dropdown.open .dropdown-arrow {
         transform: rotate(180deg);
         }
         .theme-dropdown-menu {
         position: absolute;
         top: 70px;
         right: 0;
         min-width: 200px;
         border-radius: 12px;
         padding: 8px;
         box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
         backdrop-filter: blur(10px);
         opacity: 0;
         visibility: hidden;
         transform: translateY(-10px);
         transition: all 0.3s ease;
         z-index: 1000;
         }
         .theme-dropdown.open .theme-dropdown-menu {
         opacity: 1;
         visibility: visible;
         transform: translateY(0);
         }
         .theme-dropdown-option {
         display: flex;
         align-items: center;
         gap: 12px;
         padding: 12px;
         border-radius: 8px;
         cursor: pointer;
         transition: all 0.2s ease;
         border: 2px solid transparent;
         }
         .theme-dropdown-option:hover {
         transform: translateX(4px);
         }
         .theme-dropdown-option.active {
         border-color: currentColor;
         }
         .theme-dropdown-option .theme-preview {
         width: 24px;
         height: 24px;
         flex-shrink: 0;
         }
         .theme-dropdown-option .theme-name {
         font-size: 0.9rem;
         font-weight: 500;
         }
         
         .top-left-info {
         position: absolute;
         top: 20px;
         left: 20px;
         display: flex;
         align-items: center;
         gap: 15px;
         z-index: 2;
         }
         
         .top-right-info {
         position: absolute;
         top: 20px;
         right: 20px;
         display: flex;
         align-items: center;
         gap: 15px;
         z-index: 2;
         }
         
         /* Hide mobile header on desktop */
         .mobile-header {
         display: none;
         }
         
         .date-info {
         padding: 8px 16px;
         border-radius: 8px;
         font-size: 0.9rem;
         font-weight: 500;
         transition: all 0.5s ease;
         }
         
         /* Sun Design */
         .sun {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 30% 30%, #fff9c4, #ffeb3b 40%, #ff9800 70%, #f57c00);
         position: relative;
         box-shadow: 0 0 30px rgba(255, 193, 7, 0.8), 0 0 60px rgba(255, 193, 7, 0.4);
         }
         .sun::before {
         content: '';
         position: absolute;
         top: 15%;
         left: 25%;
         width: 8px;
         height: 8px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.8);
         box-shadow: 
           12px 5px 0 -2px rgba(255, 255, 255, 0.6),
           8px 15px 0 -3px rgba(255, 255, 255, 0.4);
         }
         .sun::after {
         content: '';
         position: absolute;
         top: -10px;
         left: -10px;
         right: -10px;
         bottom: -10px;
         border-radius: 50%;
         background: conic-gradient(
           transparent 0deg,
           rgba(255, 193, 7, 0.3) 20deg,
           transparent 40deg,
           rgba(255, 193, 7, 0.3) 60deg,
           transparent 80deg,
           rgba(255, 193, 7, 0.3) 100deg,
           transparent 120deg,
           rgba(255, 193, 7, 0.3) 140deg,
           transparent 160deg,
           rgba(255, 193, 7, 0.3) 180deg,
           transparent 200deg,
           rgba(255, 193, 7, 0.3) 220deg,
           transparent 240deg,
           rgba(255, 193, 7, 0.3) 260deg,
           transparent 280deg,
           rgba(255, 193, 7, 0.3) 300deg,
           transparent 320deg,
           rgba(255, 193, 7, 0.3) 340deg,
           transparent 360deg
         );
         animation: rotate 20s linear infinite;
         z-index: -1;
         }
         
         /* Moon Design */
         .moon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 35% 25%, #f5f5f5, #e8e8e8 40%, #d0d0d0 70%, #b8b8b8);
         position: relative;
         box-shadow: 0 0 20px rgba(245, 245, 245, 0.6), inset -8px -8px 0 rgba(180, 180, 180, 0.3);
         }
         .moon::before {
         content: '';
         position: absolute;
         top: 20%;
         left: 30%;
         width: 6px;
         height: 6px;
         border-radius: 50%;
         background: rgba(160, 160, 160, 0.6);
         box-shadow: 
           15px 8px 0 -1px rgba(160, 160, 160, 0.4),
           8px 20px 0 -2px rgba(160, 160, 160, 0.5),
           25px 25px 0 -3px rgba(160, 160, 160, 0.3);
         }
         .moon::after {
         content: '';
         position: absolute;
         top: 10%;
         right: 15%;
         width: 4px;
         height: 4px;
         border-radius: 50%;
         background: rgba(160, 160, 160, 0.4);
         box-shadow: 
           -10px 15px 0 1px rgba(160, 160, 160, 0.3),
           -5px 25px 0 -1px rgba(160, 160, 160, 0.2);
         }
         
         /* Bubble Icon */
         .bubble-icon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.3) 30%, rgba(6, 182, 212, 0.8) 70%, rgba(14, 116, 144, 0.9));
         position: relative;
         box-shadow: 0 0 15px rgba(6, 182, 212, 0.4), inset -5px -5px 10px rgba(14, 116, 144, 0.3);
         border: 2px solid rgba(255, 255, 255, 0.3);
         }
         .bubble-icon::before {
         content: '';
         position: absolute;
         top: 15%;
         left: 20%;
         width: 12px;
         height: 8px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.9);
         box-shadow: 
           18px 8px 0 -4px rgba(255, 255, 255, 0.7),
           6px 25px 0 -6px rgba(255, 255, 255, 0.5);
         }
         .bubble-icon::after {
         content: '';
         position: absolute;
         top: 60%;
         right: 20%;
         width: 4px;
         height: 4px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.6);
         }
         
         /* Leaf Icon */
         .leaf-icon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 30% 30%, #dcfce7, #22c55e 40%, #16a34a 70%, #15803d);
         position: relative;
         box-shadow: 0 0 20px rgba(34, 197, 94, 0.6);
         }
         .leaf-icon::before {
         content: '';
         position: absolute;
         top: 25%;
         left: 25%;
         width: 12px;
         height: 12px;
         background: rgba(255, 255, 255, 0.9);
         border-radius: 0 100% 0 100%;
         box-shadow: 
           15px 8px 0 -2px rgba(255, 255, 255, 0.7),
           8px 18px 0 -3px rgba(255, 255, 255, 0.5);
         }
         
         /* Petal Icon */
         .petal-icon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 30% 30%, #fdf2f8, #ec4899 40%, #db2777 70%, #be185d);
         position: relative;
         box-shadow: 0 0 20px rgba(236, 72, 153, 0.6);
         }
         .petal-icon::before {
         content: '';
         position: absolute;
         top: 22%;
         left: 28%;
         width: 8px;
         height: 8px;
         background: rgba(255, 255, 255, 0.9);
         border-radius: 50% 0 50% 0;
         box-shadow: 
           12px 6px 0 -1px rgba(255, 255, 255, 0.7),
           6px 15px 0 -2px rgba(255, 255, 255, 0.5),
           18px 18px 0 -3px rgba(255, 255, 255, 0.4);
         }
         
         /* Snowflake Icon - Snowball Design */
         .snowflake-icon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 30% 30%, #ffffff, #f0f9ff 40%, #dbeafe 70%, #bfdbfe);
         position: relative;
         box-shadow: 0 0 20px rgba(14, 165, 233, 0.3), inset -4px -4px 8px rgba(59, 130, 246, 0.2);
         border: 2px solid rgba(255, 255, 255, 0.8);
         }
         .snowflake-icon::before {
         content: '';
         position: absolute;
         top: 25%;
         left: 30%;
         width: 6px;
         height: 6px;
         border-radius: 50%;
         background: rgba(59, 130, 246, 0.3);
         box-shadow: 
           12px 8px 0 -1px rgba(59, 130, 246, 0.2),
           6px 18px 0 -2px rgba(59, 130, 246, 0.25),
           18px 20px 0 -3px rgba(59, 130, 246, 0.15);
         }
         .snowflake-icon::after {
         content: '';
         position: absolute;
         top: 15%;
         left: 20%;
         width: 10px;
         height: 8px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.9);
         box-shadow: 
           15px 12px 0 -2px rgba(255, 255, 255, 0.7);
         }
         
         /* Raindrop Icon - Circular Water Droplet */
         .raindrop-icon {
         width: 100%;
         height: 100%;
         border-radius: 50%;
         background: radial-gradient(circle at 25% 25%, rgba(147, 197, 253, 0.9), rgba(59, 130, 246, 0.8) 30%, rgba(29, 78, 216, 0.9) 70%, rgba(30, 58, 138, 0.95));
         position: relative;
         box-shadow: 0 0 15px rgba(59, 130, 246, 0.5), inset -3px -3px 6px rgba(29, 78, 216, 0.3);
         border: 2px solid rgba(147, 197, 253, 0.4);
         overflow: hidden;
         }
         .raindrop-icon::before {
         content: '';
         position: absolute;
         top: 20%;
         left: 25%;
         width: 12px;
         height: 10px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.8);
         box-shadow: 
           15px 8px 0 -3px rgba(255, 255, 255, 0.6),
           8px 20px 0 -4px rgba(255, 255, 255, 0.4);
         }
         .raindrop-icon::after {
         content: '';
         position: absolute;
         top: 60%;
         right: 20%;
         width: 6px;
         height: 6px;
         border-radius: 50%;
         background: rgba(255, 255, 255, 0.5);
         box-shadow: 
           -8px -8px 0 -1px rgba(255, 255, 255, 0.3);
         }
         
         @keyframes rotate {
         from { transform: rotate(0deg); }
         to { transform: rotate(360deg); }
         }
         /* Starry Night Theme */
         body.starry-night { background: linear-gradient(to top, #0f0f0f, #1a1a2e); color: #e5e5e5; }
         body.starry-night .theme-toggle { background: transparent; }
         body.starry-night .sun, body.starry-night .bubble-icon, body.starry-night .leaf-icon, body.starry-night .petal-icon { display: none; }
         body.starry-night .moon { display: block; }
         body.starry-night .header h1 { color: #fff; }
         body.starry-night .header p { color: #a3a3a3; }
         body.starry-night .date-display, body.starry-night .add-habit input, body.starry-night .habit-item, body.starry-night .modal { background: #1a1a1a; border: 1px solid #333; color: #e5e5e5; }
         body.starry-night .progress-bar { background: #333; }
         body.starry-night .progress-fill { background: linear-gradient(90deg, #38bdf8, #0ea5e9); }
         body.starry-night .habit-item.completed { background: #0f2a1a; border-color: #22c55e; }
         body.starry-night .footer-info { background: rgba(26, 26, 26, 0.6); color: #a3a3a3; border: 1px solid rgba(51, 51, 51, 0.5); }
         body.starry-night .date-info { background: rgba(26, 26, 26, 0.8); color: #e5e5e5; border: 1px solid rgba(51, 51, 51, 0.3); }
         body.starry-night .add-habit { background: rgba(26, 26, 26, 0.4); border: 1px solid rgba(51, 51, 51, 0.2); }
         body.starry-night .add-habit input:focus { border-color: #60a5fa; }
         body.starry-night .streak-counter { background: linear-gradient(135deg, #f97316, #ea580c); color: white; box-shadow: 0 2px 8px rgba(249, 115, 22, 0.4); }
         body.starry-night .secondary-reset-btn { color: #9ca3af; border-color: #374151; }
         body.starry-night .secondary-reset-btn:hover { background: #1f2937; border-color: #6b7280; color: #d1d5db; }
         body.starry-night .secondary-delete-btn { color: #f87171; border-color: #7f1d1d; }
         body.starry-night .secondary-delete-btn:hover { background: #1f1917; border-color: #dc2626; color: #fca5a5; }
         body.starry-night .add-btn { background: linear-gradient(135deg, #38bdf8, #0ea5e9); box-shadow: 0 4px 15px rgba(56, 189, 248, 0.4); }
         body.starry-night .add-btn:hover { box-shadow: 0 6px 20px rgba(56, 189, 248, 0.6); }
         body.starry-night .clouds, body.starry-night .waves, body.starry-night .leaves, body.starry-night .petals { display: none; }
         body.starry-night .stars { display: block; }

         /* Cloudy Day Theme */
         body.cloudy-day { background: linear-gradient(to top, #87ceeb, #fdfdfd); color: #222; }
         body.cloudy-day .theme-toggle { background: transparent; }
         body.cloudy-day .moon, body.cloudy-day .bubble-icon, body.cloudy-day .leaf-icon, body.cloudy-day .petal-icon { display: none; }
         body.cloudy-day .sun { display: block; }
         body.cloudy-day .header h1 { color: #333; }
         body.cloudy-day .header p { color: #555; }
         body.cloudy-day .date-display, body.cloudy-day .add-habit input, body.cloudy-day .habit-item, body.cloudy-day .modal { background: #ffffff; border: 1px solid #ccc; color: #222; }
         body.cloudy-day .progress-bar { background: #ddd; }
         body.cloudy-day .progress-fill { background: linear-gradient(90deg, #fbbf24, #f59e0b); }
         body.cloudy-day .habit-item.completed { background: #e6ffe6; border-color: #22c55e; }
         body.cloudy-day .footer-info { background: rgba(255, 255, 255, 0.6); color: #666; border: 1px solid rgba(204, 204, 204, 0.5); }
         body.cloudy-day .date-info { background: rgba(255, 255, 255, 0.8); color: #333; border: 1px solid rgba(204, 204, 204, 0.3); }
         body.cloudy-day .add-habit { background: rgba(255, 255, 255, 0.4); border: 1px solid rgba(204, 204, 204, 0.2); }
         body.cloudy-day .add-habit input:focus { border-color: #60a5fa; }
         body.cloudy-day .streak-counter { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white; box-shadow: 0 2px 8px rgba(251, 191, 36, 0.3); }
         body.cloudy-day .secondary-reset-btn { color: #6b7280; border-color: #d1d5db; }
         body.cloudy-day .secondary-reset-btn:hover { background: #f9fafb; border-color: #9ca3af; color: #4b5563; }
         body.cloudy-day .secondary-delete-btn { color: #dc2626; border-color: #fca5a5; }
         body.cloudy-day .secondary-delete-btn:hover { background: #fef2f2; border-color: #dc2626; color: #b91c1c; }
         body.cloudy-day .add-btn { background: linear-gradient(135deg, #fbbf24, #f59e0b); box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4); }
         body.cloudy-day .add-btn:hover { box-shadow: 0 6px 20px rgba(251, 191, 36, 0.6); }
         body.cloudy-day .stars, body.cloudy-day .waves, body.cloudy-day .leaves, body.cloudy-day .petals { display: none; }
         body.cloudy-day .clouds { display: block; }

         /* Ocean Theme */
         body.ocean { background: linear-gradient(to top, #1e3a8a, #0c4a6e); color: #ecfeff; }
         body.ocean .theme-toggle { background: transparent; }
         body.ocean .sun, body.ocean .moon, body.ocean .leaf-icon, body.ocean .petal-icon { display: none; }
         body.ocean .bubble-icon { display: block; }
         body.ocean .header h1 { color: #ecfeff; }
         body.ocean .header p { color: #a5f3fc; }
         body.ocean .date-display, body.ocean .add-habit input, body.ocean .habit-item, body.ocean .modal { background: rgba(20, 83, 109, 0.8); border: 1px solid #0891b2; color: #ecfeff; }
         body.ocean .progress-bar { background: #0e7490; }
         body.ocean .progress-fill { background: linear-gradient(90deg, #06b6d4, #0891b2); }
         body.ocean .habit-item.completed { background: rgba(6, 182, 212, 0.2); border-color: #06b6d4; }
         body.ocean .footer-info { background: rgba(20, 83, 109, 0.6); color: #a5f3fc; border: 1px solid rgba(8, 145, 178, 0.5); }
         body.ocean .date-info { background: rgba(20, 83, 109, 0.8); color: #ecfeff; border: 1px solid rgba(8, 145, 178, 0.3); }
         body.ocean .add-habit { background: rgba(20, 83, 109, 0.4); border: 1px solid rgba(8, 145, 178, 0.2); }
         body.ocean .add-habit input:focus { border-color: #06b6d4; }
         body.ocean .streak-counter { background: linear-gradient(135deg, #06b6d4, #0891b2); color: white; box-shadow: 0 2px 8px rgba(6, 182, 212, 0.4); }
         body.ocean .secondary-reset-btn { color: #67e8f9; border-color: #0891b2; }
         body.ocean .secondary-reset-btn:hover { background: rgba(6, 182, 212, 0.1); border-color: #06b6d4; color: #a5f3fc; }
         body.ocean .secondary-delete-btn { color: #f87171; border-color: #7f1d1d; }
         body.ocean .secondary-delete-btn:hover { background: rgba(239, 68, 68, 0.1); border-color: #dc2626; color: #fca5a5; }
         body.ocean .add-btn { background: linear-gradient(135deg, #06b6d4, #0891b2); box-shadow: 0 4px 15px rgba(6, 182, 212, 0.4); }
         body.ocean .add-btn:hover { box-shadow: 0 6px 20px rgba(6, 182, 212, 0.6); }
         body.ocean .stars, body.ocean .clouds, body.ocean .leaves, body.ocean .petals { display: none; }
         body.ocean .waves { display: block; }

         /* Forest Theme */
         body.forest { background: linear-gradient(to top, #064e3b, #166534); color: #dcfce7; }
         body.forest .theme-toggle { background: transparent; }
         body.forest .sun, body.forest .moon, body.forest .bubble-icon, body.forest .petal-icon { display: none; }
         body.forest .leaf-icon { display: block; }
         body.forest .header h1 { color: #dcfce7; }
         body.forest .header p { color: #bbf7d0; }
         body.forest .date-display, body.forest .add-habit input, body.forest .habit-item, body.forest .modal { background: rgba(20, 83, 45, 0.8); border: 1px solid #16a34a; color: #dcfce7; }
         body.forest .progress-bar { background: #15803d; }
         body.forest .progress-fill { background: linear-gradient(90deg, #10b981, #059669); }
         body.forest .habit-item.completed { background: rgba(34, 197, 94, 0.2); border-color: #22c55e; }
         body.forest .footer-info { background: rgba(20, 83, 45, 0.6); color: #bbf7d0; border: 1px solid rgba(22, 163, 74, 0.5); }
         body.forest .date-info { background: rgba(20, 83, 45, 0.8); color: #dcfce7; border: 1px solid rgba(22, 163, 74, 0.3); }
         body.forest .add-habit { background: rgba(20, 83, 45, 0.4); border: 1px solid rgba(22, 163, 74, 0.2); }
         body.forest .add-habit input:focus { border-color: #22c55e; }
         body.forest .streak-counter { background: linear-gradient(135deg, #22c55e, #16a34a); color: white; box-shadow: 0 2px 8px rgba(34, 197, 94, 0.4); }
         body.forest .secondary-reset-btn { color: #86efac; border-color: #16a34a; }
         body.forest .secondary-reset-btn:hover { background: rgba(34, 197, 94, 0.1); border-color: #22c55e; color: #bbf7d0; }
         body.forest .secondary-delete-btn { color: #f87171; border-color: #7f1d1d; }
         body.forest .secondary-delete-btn:hover { background: rgba(239, 68, 68, 0.1); border-color: #dc2626; color: #fca5a5; }
         body.forest .add-btn { background: linear-gradient(135deg, #22c55e, #16a34a); box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4); }
         body.forest .add-btn:hover { box-shadow: 0 6px 20px rgba(34, 197, 94, 0.6); }
         body.forest .stars, body.forest .clouds, body.forest .waves, body.forest .petals { display: none; }
         body.forest .leaves { display: block; }

         /* Cherry Blossom Theme */
         body.cherry-blossom { background: linear-gradient(to top, #fdf2f8, #fce7f3); color: #be185d; }
         body.cherry-blossom .theme-toggle { background: transparent; }
         body.cherry-blossom .sun, body.cherry-blossom .moon, body.cherry-blossom .bubble-icon, body.cherry-blossom .leaf-icon { display: none; }
         body.cherry-blossom .petal-icon { display: block; }
         body.cherry-blossom .header h1 { color: #be185d; }
         body.cherry-blossom .header p { color: #db2777; }
         body.cherry-blossom .date-display, body.cherry-blossom .add-habit input, body.cherry-blossom .habit-item, body.cherry-blossom .modal { background: rgba(252, 231, 243, 0.8); border: 1px solid #db2777; color: #be185d; }
         body.cherry-blossom .progress-bar { background: #f3e8ff; }
         body.cherry-blossom .progress-fill { background: linear-gradient(90deg, #ec4899, #db2777); }
         body.cherry-blossom .habit-item.completed { background: rgba(236, 72, 153, 0.2); border-color: #ec4899; }
         body.cherry-blossom .footer-info { background: rgba(252, 231, 243, 0.6); color: #db2777; border: 1px solid rgba(219, 39, 119, 0.5); }
         body.cherry-blossom .date-info { background: rgba(252, 231, 243, 0.8); color: #be185d; border: 1px solid rgba(219, 39, 119, 0.3); }
         body.cherry-blossom .add-habit { background: rgba(252, 231, 243, 0.4); border: 1px solid rgba(219, 39, 119, 0.2); }
         body.cherry-blossom .add-habit input:focus { border-color: #ec4899; }
         body.cherry-blossom .streak-counter { background: linear-gradient(135deg, #ec4899, #db2777); color: white; box-shadow: 0 2px 8px rgba(236, 72, 153, 0.4); }
         body.cherry-blossom .secondary-reset-btn { color: #f472b6; border-color: #ec4899; }
         body.cherry-blossom .secondary-reset-btn:hover { background: rgba(236, 72, 153, 0.1); border-color: #db2777; color: #db2777; }
         body.cherry-blossom .secondary-delete-btn { color: #dc2626; border-color: #fca5a5; }
         body.cherry-blossom .secondary-delete-btn:hover { background: #fef2f2; border-color: #dc2626; color: #b91c1c; }
         body.cherry-blossom .add-btn { background: linear-gradient(135deg, #ec4899, #db2777); box-shadow: 0 4px 15px rgba(236, 72, 153, 0.4); }
         body.cherry-blossom .add-btn:hover { box-shadow: 0 6px 20px rgba(236, 72, 153, 0.6); }
         body.cherry-blossom .stars, body.cherry-blossom .clouds, body.cherry-blossom .waves, body.cherry-blossom .leaves, body.cherry-blossom .snowflakes, body.cherry-blossom .raindrops { display: none; }
         body.cherry-blossom .petals { display: block; }

         /* Snow Theme */
         body.snow { background: linear-gradient(to top, #c8e5fa, #91cff9); color: #1e3a8a; }
         body.snow .theme-toggle { background: transparent; }
         body.snow .sun, body.snow .moon, body.snow .bubble-icon, body.snow .leaf-icon, body.snow .petal-icon, body.snow .raindrop-icon { display: none; }
         body.snow .snowflake-icon { display: block; }
         body.snow .header h1 { color: #1e3a8a; }
         body.snow .header p { color: #475569; }
         body.snow .date-display, body.snow .add-habit input, body.snow .habit-item, body.snow .modal { background: rgba(240, 249, 255, 0.9); border: 1px solid #0ea5e9; color: #1e3a8a; }
         body.snow .progress-bar { background: #e0f2fe; }
         body.snow .progress-fill { background: linear-gradient(90deg, #0ea5e9, #0284c7); }
         body.snow .habit-item.completed { background: rgba(219, 234, 254, 0.8); border-color: #0ea5e9; }
         body.snow .footer-info { background: rgba(240, 249, 255, 0.6); color: #1e3a8a; border: 1px solid rgba(14, 165, 233, 0.3); }
         body.snow .date-info { background: rgba(240, 249, 255, 0.9); color: #1e3a8a; border: 1px solid rgba(14, 165, 233, 0.3); }
         body.snow .add-habit { background: rgba(240, 249, 255, 0.4); border: 1px solid rgba(14, 165, 233, 0.2); }
         body.snow .add-habit input:focus { border-color: #0ea5e9; }
         body.snow .streak-counter { background: linear-gradient(135deg, #0ea5e9, #0284c7); color: white; box-shadow: 0 2px 8px rgba(14, 165, 233, 0.4); }
         body.snow .secondary-reset-btn { color: #0ea5e9; border-color: #0ea5e9; }
         body.snow .secondary-reset-btn:hover { background: rgba(14, 165, 233, 0.1); border-color: #0284c7; color: #1e3a8a; }
         body.snow .secondary-delete-btn { color: #dc2626; border-color: #fca5a5; }
         body.snow .secondary-delete-btn:hover { background: #fef2f2; border-color: #dc2626; color: #b91c1c; }
         body.snow .add-btn { background: linear-gradient(135deg, #0ea5e9, #0284c7); box-shadow: 0 4px 15px rgba(14, 165, 233, 0.4); }
         body.snow .add-btn:hover { box-shadow: 0 6px 20px rgba(14, 165, 233, 0.6); }
         body.snow .stars, body.snow .clouds, body.snow .waves, body.snow .leaves, body.snow .petals, body.snow .raindrops { display: none; }
         body.snow .snowflakes { display: block; }

         /* Rain Theme */
         body.rain { background: linear-gradient(to top, #374151, #1f2937); color: #e5e7eb; }
         body.rain .theme-toggle { background: transparent; }
         body.rain .sun, body.rain .moon, body.rain .bubble-icon, body.rain .leaf-icon, body.rain .petal-icon, body.rain .snowflake-icon { display: none; }
         body.rain .raindrop-icon { display: block; }
         body.rain .header h1 { color: #e5e7eb; }
         body.rain .header p { color: #f3f4f6; }
         body.rain .date-display, body.rain .add-habit input, body.rain .habit-item, body.rain .modal { background: rgba(55, 65, 81, 0.8); border: 1px solid #3b82f6; color: #e5e7eb; }
         body.rain .progress-bar { background: #4b5563; }
         body.rain .progress-fill { background: linear-gradient(90deg, #3b82f6, #1d4ed8); }
         body.rain .habit-item.completed { background: rgba(30, 58, 138, 0.3); border-color: #3b82f6; }
         body.rain .footer-info { background: rgba(55, 65, 81, 0.6); color: #e5e7eb; border: 1px solid rgba(59, 130, 246, 0.3); }
         body.rain .date-info { background: rgba(55, 65, 81, 0.8); color: #e5e7eb; border: 1px solid rgba(59, 130, 246, 0.3); }
         body.rain .add-habit { background: rgba(55, 65, 81, 0.4); border: 1px solid rgba(59, 130, 246, 0.2); }
         body.rain .add-habit input:focus { border-color: #3b82f6; }
         body.rain .streak-counter { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4); }
         body.rain .secondary-reset-btn { color: #6b7280; border-color: #6b7280; }
         body.rain .secondary-reset-btn:hover { background: rgba(75, 85, 99, 0.3); border-color: #9ca3af; color: #e5e7eb; }
         body.rain .secondary-delete-btn { color: #f87171; border-color: #7f1d1d; }
         body.rain .secondary-delete-btn:hover { background: rgba(239, 68, 68, 0.1); border-color: #dc2626; color: #fca5a5; }
         body.rain .add-btn { background: linear-gradient(135deg, #3b82f6, #1d4ed8); box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4); }
         body.rain .add-btn:hover { box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6); }
         body.rain .stars, body.rain .clouds, body.rain .waves, body.rain .leaves, body.rain .petals, body.rain .snowflakes { display: none; }
         body.rain .raindrops { display: block; }
         
         /* Theme Preview Styles */
         .theme-preview {
         border-radius: 50%;
         position: relative;
         overflow: hidden;
         }
         .starry-night-preview {
         background: linear-gradient(135deg, #0f0f0f, #1a1a2e);
         }
         .starry-night-preview::after {
         content: '✨';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .cloudy-day-preview {
         background: linear-gradient(135deg, #87ceeb, #fdfdfd);
         }
         .cloudy-day-preview::after {
         content: '☀️';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .ocean-preview {
         background: linear-gradient(135deg, #1e3a8a, #0c4a6e);
         }
         .ocean-preview::after {
         content: '🌊';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .forest-preview {
         background: linear-gradient(135deg, #064e3b, #166534);
         }
         .forest-preview::after {
         content: '🌲';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .cherry-blossom-preview {
         background: linear-gradient(135deg, #fdf2f8, #fce7f3);
         }
         .cherry-blossom-preview::after {
         content: '🌸';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .snow-preview {
         background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
         }
         .snow-preview::after {
         content: '❄️';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .rain-preview {
         background: linear-gradient(135deg, #374151, #1f2937);
         }
         .rain-preview::after {
         content: '🌧️';
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         font-size: 16px;
         }
         .theme-name {
         font-size: 0.8rem;
         font-weight: 500;
         text-align: center;
         opacity: 0.8;
         }
         
         /* Theme-specific dropdown styling */
         body.starry-night .theme-dropdown-menu { background: rgba(26, 26, 26, 0.95); border: 1px solid rgba(51, 51, 51, 0.3); }
         body.starry-night .theme-dropdown-option { color: #d1d5db; }
         body.starry-night .theme-dropdown-option:hover { background: rgba(51, 51, 51, 0.3); }
         body.starry-night .dropdown-arrow { color: #d1d5db; }
         
         body.cloudy-day .theme-dropdown-menu { background: rgba(255, 255, 255, 0.95); border: 1px solid rgba(204, 204, 204, 0.3); }
         body.cloudy-day .theme-dropdown-option { color: #4b5563; }
         body.cloudy-day .theme-dropdown-option:hover { background: rgba(249, 250, 251, 0.8); }
         body.cloudy-day .dropdown-arrow { color: #4b5563; }
         
         body.ocean .theme-dropdown-menu { background: rgba(20, 83, 109, 0.95); border: 1px solid rgba(8, 145, 178, 0.3); }
         body.ocean .theme-dropdown-option { color: #a5f3fc; }
         body.ocean .theme-dropdown-option:hover { background: rgba(8, 145, 178, 0.3); }
         body.ocean .dropdown-arrow { color: #a5f3fc; }
         
         body.forest .theme-dropdown-menu { background: rgba(20, 83, 45, 0.95); border: 1px solid rgba(22, 163, 74, 0.3); }
         body.forest .theme-dropdown-option { color: #bbf7d0; }
         body.forest .theme-dropdown-option:hover { background: rgba(22, 163, 74, 0.3); }
         body.forest .dropdown-arrow { color: #bbf7d0; }
         
         body.cherry-blossom .theme-dropdown-menu { background: rgba(252, 231, 243, 0.95); border: 1px solid rgba(219, 39, 119, 0.3); }
         body.cherry-blossom .theme-dropdown-option { color: #db2777; }
         body.cherry-blossom .theme-dropdown-option:hover { background: rgba(219, 39, 119, 0.2); }
         body.cherry-blossom .dropdown-arrow { color: #db2777; }
         
         /* Theme-specific completion popup styling */
         body.starry-night .completion-content { 
         background: rgba(26, 26, 26, 0.95); 
         border: 1px solid rgba(56, 189, 248, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px rgba(56, 189, 248, 0.2);
         color: #e5e5e5;
         }
         body.starry-night .completion-content h2 { color: #38bdf8; }
         body.starry-night .completion-content p { color: #a3a3a3; }
         
         body.cloudy-day .completion-content { 
         background: rgba(255, 255, 255, 0.95); 
         border: 1px solid rgba(251, 191, 36, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2), 0 0 30px rgba(251, 191, 36, 0.2);
         color: #222;
         }
         body.cloudy-day .completion-content h2 { color: #f59e0b; }
         body.cloudy-day .completion-content p { color: #555; }
         
         body.ocean .completion-content { 
         background: rgba(20, 83, 109, 0.95); 
         border: 1px solid rgba(6, 182, 212, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px rgba(6, 182, 212, 0.3);
         color: #ecfeff;
         }
         body.ocean .completion-content h2 { color: #06b6d4; }
         body.ocean .completion-content p { color: #a5f3fc; }
         
         body.forest .completion-content { 
         background: rgba(20, 83, 45, 0.95); 
         border: 1px solid rgba(34, 197, 94, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px rgba(34, 197, 94, 0.3);
         color: #dcfce7;
         }
         body.forest .completion-content h2 { color: #22c55e; }
         body.forest .completion-content p { color: #bbf7d0; }
         
         body.cherry-blossom .completion-content { 
         background: rgba(252, 231, 243, 0.95); 
         border: 1px solid rgba(236, 72, 153, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(236, 72, 153, 0.2);
         color: #be185d;
         }
         body.cherry-blossom .completion-content h2 { color: #ec4899; }
         body.cherry-blossom .completion-content p { color: #db2777; }
         
         body.snow .completion-content { 
         background: rgba(240, 249, 255, 0.95); 
         border: 1px solid rgba(14, 165, 233, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2), 0 0 30px rgba(14, 165, 233, 0.3);
         color: #1e3a8a;
         }
         body.snow .completion-content h2 { color: #0ea5e9; }
         body.snow .completion-content p { color: #475569; }
         
         body.rain .completion-content { 
         background: rgba(55, 65, 81, 0.95); 
         border: 1px solid rgba(59, 130, 246, 0.3);
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px rgba(59, 130, 246, 0.4);
         color: #e5e7eb;
         }
         body.rain .completion-content h2 { color: #3b82f6; }
         body.rain .completion-content p { color: #f3f4f6; }
         /* Components reused */
         .date-display { border-radius: 12px; padding: 16px; text-align: center; margin-bottom: 30px; }
         .date-display h2 { font-size: 1.2rem; font-weight: 600; }
         .add-habit { 
         display: flex; 
         gap: 16px; 
         margin-bottom: 40px; 
         padding: 20px;
         border-radius: 12px;
         transition: all 0.3s ease;
         }
         .add-habit input { 
         flex: 1; 
         padding: 14px 18px; 
         border-radius: 10px; 
         font-size: 1rem; 
         border: 2px solid; 
         transition: all 0.2s ease;
         }
         .add-habit input:focus {
         outline: none;
         transform: translateY(-1px);
         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
         }
         .add-btn { 
         padding: 12px 20px; 
         color: white; 
         border: none; 
         border-radius: 8px; 
         font-weight: 600; 
         cursor: pointer; 
         transition: all 0.3s ease;
         display: flex;
         align-items: center;
         gap: 8px;
         position: relative;
         overflow: hidden;
         }
         .add-btn:hover { 
         transform: translateY(-2px);
         }
         .add-btn::before {
         content: '';
         width: 14px;
         height: 14px;
         background: 
           linear-gradient(white, white) center/2px 14px no-repeat,
           linear-gradient(white, white) center/14px 2px no-repeat;
         }

         .progress-section { margin-bottom: 30px; }
         .progress-bar { width: 100%; height: 8px; border-radius: 4px; overflow: hidden; margin-bottom: 8px; }
         .progress-fill { height: 100%; transition: width 0.3s ease; width: 0%; }
         .progress-text { text-align: center; font-size: 0.9rem; margin-bottom: 8px; }
         .streak-counter { 
         font-size: 0.85rem; 
         font-weight: 600; 
         padding: 6px 12px;
         border-radius: 20px;
         transition: all 0.3s ease;
         white-space: nowrap;
         box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
         }
         .action-buttons { display: flex; gap: 12px; }
         .reset-btn, .delete-all-btn { 
         flex: 1;
         padding: 10px 16px; 
         border: none; 
         border-radius: 8px; 
         font-weight: 600; 
         cursor: pointer; 
         transition: all 0.2s;
         display: flex;
         align-items: center;
         justify-content: center;
         gap: 6px;
         font-size: 0.9rem;
         }
         .reset-btn { 
         background: #9ca3af; 
         color: white; 
         }
         .reset-btn:hover { 
         background: #6b7280; 
         transform: translateY(-1px);
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
         }
         .delete-all-btn { 
         background: #dc2626; 
         color: white; 
         opacity: 0.8;
         }
         .delete-all-btn:hover { 
         background: #b91c1c; 
         opacity: 1;
         transform: translateY(-1px);
         }
         
         /* Reset icon */
         .reset-btn::before {
         content: '';
         width: 12px;
         height: 12px;
         border: 2px solid currentColor;
         border-radius: 50%;
         border-top-color: transparent;
         border-right-color: transparent;
         }
         
         /* Delete all icon */
         .delete-all-btn::before {
         content: '';
         width: 12px;
         height: 14px;
         background: 
           linear-gradient(currentColor, currentColor) center top/8px 2px no-repeat,
           linear-gradient(currentColor, currentColor) center/6px 10px no-repeat;
         background-position: center 1px, center 4px;
         }
         .habit-item { display: flex; align-items: center; gap: 16px; padding: 16px; border-radius: 8px; margin-bottom: 12px; transition: all 0.2s; }
         .habit-checkbox { width: 20px; height: 20px; border: 2px solid #666; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
         .habit-checkbox.checked { background: #22c55e; border-color: #22c55e; }
         .habit-checkbox.checked::after { content: '✓'; color: white; font-weight: bold; font-size: 14px; }
         .habit-text { flex: 1; font-size: 1rem; }
         .habit-item.completed .habit-text { opacity: 0.5; text-decoration: none; }
         .delete-btn-container { margin-left: 8px; }
         .delete-btn { 
         background: none; 
         border: none; 
         cursor: pointer; 
         padding: 8px; 
         border-radius: 4px; 
         transition: all 0.2s;
         position: relative;
         width: 24px;
         height: 24px;
         display: flex;
         align-items: center;
         justify-content: center;
         }
         .delete-btn:hover { background: rgba(239, 68, 68, 0.1); }
         .delete-btn::before,
         .delete-btn::after {
         content: '';
         position: absolute;
         width: 12px;
         height: 2px;
         background: #ef4444;
         border-radius: 1px;
         }
         .delete-btn::before { transform: rotate(45deg); }
         .delete-btn::after { transform: rotate(-45deg); }
         
         /* Bottom Actions */
         .bottom-actions {
         display: flex;
         gap: 12px;
         justify-content: center;
         margin: 20px 0;
         padding: 0 20px;
         }
         
         .secondary-reset-btn, .secondary-delete-btn {
         padding: 8px 16px;
         border: 1px solid;
         border-radius: 6px;
         font-weight: 500;
         font-size: 0.85rem;
         cursor: pointer;
         transition: all 0.2s ease;
         background: transparent;
         min-width: 80px;
         }
         
         .secondary-reset-btn {
         color: #6b7280;
         border-color: #d1d5db;
         }
         .secondary-reset-btn:hover {
         background: #f9fafb;
         border-color: #9ca3af;
         color: #4b5563;
         }
         
         .secondary-delete-btn {
         color: #dc2626;
         border-color: #fca5a5;
         }
         .secondary-delete-btn:hover {
         background: #fef2f2;
         border-color: #dc2626;
         color: #b91c1c;
         }
         .empty-state { 
         text-align: center; 
         padding: 60px 20px; 
         }
         .empty-state h3 { 
         font-size: 1.5rem; 
         margin-bottom: 12px; 
         opacity: 0.8;
         }
         .empty-state p { 
         font-size: 1.1rem; 
         opacity: 0.6; 
         line-height: 1.6;
         }
         .empty-state .emoji { 
         font-size: 3rem; 
         margin-bottom: 20px; 
         display: block;
         }
         .footer-info {
         text-align: center;
         margin-top: 30px;
         padding: 20px;
         border-radius: 8px;
         font-size: 0.9rem;
         opacity: 0.8;
         line-height: 1.5;
         }
         .footer-info .reset-icon {
         display: inline-block;
         margin-right: 8px;
         font-size: 1.1rem;
         }
         .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
         .modal-overlay.show { opacity: 1; visibility: visible; }
         .modal { border-radius: 12px; padding: 24px; max-width: 400px; width: 90%; transform: scale(0.9); transition: transform 0.3s ease; }
         .modal-overlay.show .modal { transform: scale(1); }
         .modal h3 { font-size: 1.2rem; margin-bottom: 16px; text-align: center; }
         .modal-buttons { display: flex; gap: 12px; justify-content: center; }
         .modal-btn { padding: 10px 20px; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s; min-width: 80px; }
         .modal-btn.cancel { background: #6b7280; color: #e5e5e5; }
         .modal-btn.cancel:hover { background: #4b5563; }
         .modal-btn.confirm { background: #ef4444; color: white; }
         .modal-btn.confirm:hover { background: #dc2626; }
         .modal-btn.ok { background: #60a5fa; color: white; }
         .modal-btn.ok:hover { background: #3b82f6; }
         
         /* Completion Animation */
         .completion-overlay {
         position: fixed;
         top: 0; left: 0; right: 0; bottom: 0;
         background: rgba(0, 0, 0, 0.8);
         display: flex;
         align-items: center;
         justify-content: center;
         z-index: 2000;
         opacity: 0;
         visibility: hidden;
         transition: all 0.5s ease;
         }
         .completion-overlay.show {
         opacity: 1;
         visibility: visible;
         }
         .completion-content {
         text-align: center;
         padding: 40px;
         border-radius: 20px;
         box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
         transform: scale(0.8);
         transition: transform 0.5s ease;
         z-index: 2001;
         backdrop-filter: blur(10px);
         }
         .completion-overlay.show .completion-content {
         transform: scale(1);
         }
         .completion-icon {
         font-size: 4rem;
         margin-bottom: 20px;
         animation: bounce 1s infinite alternate;
         }
         .completion-content h2 {
         font-size: 2rem;
         margin-bottom: 10px;
         }
         .completion-content p {
         font-size: 1.1rem;
         margin-bottom: 0;
         }
         
         @keyframes bounce {
         from { transform: translateY(0); }
         to { transform: translateY(-10px); }
         }
         
         /* Confetti */
         .confetti {
         position: absolute;
         top: 0; left: 0; right: 0; bottom: 0;
         pointer-events: none;
         overflow: hidden;
         }
         .confetti-piece {
         position: absolute;
         width: 8px;
         height: 8px;
         background: #fbbf24;
         animation: confetti-fall 3s linear infinite;
         }
         .confetti-piece:nth-child(2n) { background: #ef4444; }
         .confetti-piece:nth-child(3n) { background: #22c55e; }
         .confetti-piece:nth-child(4n) { background: #3b82f6; }
         .confetti-piece:nth-child(5n) { background: #8b5cf6; }
         
         @keyframes confetti-fall {
         0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
         100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
         }
         
         /* Mobile Responsive Styles */
         @media (max-width: 768px) {
           body {
             padding: 10px;
           }
           
           /* Mobile Header Layout */
           .mobile-header {
             display: flex !important;
             justify-content: space-between;
             align-items: center;
             padding: 10px 15px;
             margin-bottom: 20px;
             border-radius: 12px;
             backdrop-filter: blur(10px);
             position: relative;
             z-index: 10;
           }
           
           .mobile-header-left {
             flex: 1;
           }
           
           .mobile-header-center {
             flex: 1;
             display: flex;
             justify-content: center;
           }
           
           .mobile-header-right {
             flex: 1;
             display: flex;
             justify-content: flex-end;
           }
           
           /* Hide desktop header elements on mobile */
           .top-left-info, .top-right-info {
             display: none;
           }
           
           .container {
             padding: 10px;
             max-width: 100%;
           }
           
           /* Header text */
           .header h1 {
             font-size: 2rem;
           }
           
           .header h2 {
             font-size: 1.2rem;
           }
           
           .header p {
             font-size: 1rem;
           }
           
           .daily-quote {
             font-size: 0.85rem;
             max-width: 100%;
           }
           
           /* Mobile header components */
           .mobile-header .date-info {
             font-size: 0.8rem;
             padding: 6px 10px;
             border-radius: 8px;
             white-space: nowrap;
           }
           
           .mobile-header .streak-counter {
             font-size: 0.75rem;
             padding: 4px 8px;
             border-radius: 12px;
             white-space: nowrap;
           }
           
           .mobile-header .theme-dropdown {
             position: relative;
           }
           
           .mobile-header .theme-dropdown-toggle {
             width: 40px;
             height: 40px;
           }
           
           .mobile-header .theme-dropdown-menu {
             min-width: 180px;
             right: 0;
             transform: none;
           }
           
           .theme-dropdown-option {
             padding: 8px;
           }
           
           .theme-dropdown-option .theme-preview {
             width: 20px;
             height: 20px;
           }
           
           .theme-dropdown-option .theme-name {
             font-size: 0.8rem;
           }
           
           /* Add habit section */
           .add-habit {
             flex-direction: column;
             gap: 12px;
             padding: 16px;
           }
           
           .add-habit input {
             width: 100%;
             padding: 12px 16px;
             font-size: 0.9rem;
           }
           
           .add-btn {
             width: 100%;
             padding: 12px;
             justify-content: center;
           }
           
           /* Progress section */
           .progress-section {
             margin-bottom: 20px;
           }
           
           .progress-text {
             font-size: 0.85rem;
           }
           /* Habit items */
           .habit-item {
             padding: 12px;
             margin-bottom: 8px;
           }
           
           .habit-text {
             font-size: 0.9rem;
           }
           
           .habit-checkbox {
             width: 18px;
             height: 18px;
           }
           
           .delete-btn {
             width: 20px;
             height: 20px;
           }
           
           /* Bottom actions */
           .bottom-actions {
             flex-direction: column;
             gap: 8px;
             padding: 0 10px;
           }
           
           .secondary-reset-btn, .secondary-delete-btn {
             width: 100%;
             padding: 10px;
             font-size: 0.85rem;
           }
           
           /* Footer */
           .footer-info {
             font-size: 0.8rem;
             padding: 16px;
             margin-top: 20px;
           }
           
           /* Modals */
           .modal {
             width: 95%;
             max-width: 350px;
             padding: 20px;
           }
           
           .modal h3 {
             font-size: 1.1rem;
           }
           
           .modal-btn {
             padding: 8px 16px;
             font-size: 0.9rem;
           }
           
           /* Completion overlay */
           .completion-content {
             padding: 30px 20px;
             width: 90%;
             max-width: 350px;
           }
           
           .completion-icon {
             font-size: 3rem;
           }
           
           .completion-content h2 {
             font-size: 1.5rem;
           }
           
           .completion-content p {
             font-size: 1rem;
           }
           
           /* Empty state */
           .empty-state {
             padding: 40px 15px;
           }
           
           .empty-state h3 {
             font-size: 1.3rem;
           }
           
           .empty-state p {
             font-size: 1rem;
           }
           
           .empty-state .emoji {
             font-size: 2.5rem;
           }
         }
         
         /* Extra small screens */
         @media (max-width: 480px) {
           .header h1 {
             font-size: 1.8rem;
           }
           
           .header h2 {
             font-size: 1.1rem;
           }
           
           .daily-quote {
             font-size: 0.8rem;
           }
           
           .theme-dropdown-toggle {
             width: 40px;
             height: 40px;
           }
           
           .completion-content {
             padding: 25px 15px;
           }
           
           .completion-icon {
             font-size: 2.5rem;
           }
           
           .completion-content h2 {
             font-size: 1.3rem;
           }
           
           /* Mobile header theme-specific styling */
           body.starry-night .mobile-header { background: rgba(26, 26, 26, 0.8); border: 1px solid rgba(51, 51, 51, 0.3); }
           body.cloudy-day .mobile-header { background: rgba(255, 255, 255, 0.8); border: 1px solid rgba(204, 204, 204, 0.3); }
           body.ocean .mobile-header { background: rgba(20, 83, 109, 0.8); border: 1px solid rgba(8, 145, 178, 0.3); }
           body.forest .mobile-header { background: rgba(20, 83, 45, 0.8); border: 1px solid rgba(22, 163, 74, 0.3); }
           body.cherry-blossom .mobile-header { background: rgba(252, 231, 243, 0.8); border: 1px solid rgba(219, 39, 119, 0.3); }
           body.snow .mobile-header { background: rgba(240, 249, 255, 0.9); border: 1px solid rgba(14, 165, 233, 0.3); }
           body.rain .mobile-header { background: rgba(55, 65, 81, 0.8); border: 1px solid rgba(59, 130, 246, 0.3); }
         }
      </style>
   </head>
   <body class="starry-night">
      <!-- Background Elements -->
      <div class="stars" id="stars"></div>
      <div class="clouds" id="clouds"></div>
      <div class="waves" id="waves"></div>
      <div class="leaves" id="leaves"></div>
      <div class="petals" id="petals"></div>
      <div class="snowflakes" id="snowflakes"></div>
      <div class="raindrops" id="raindrops"></div>
      
      <!-- Completion Animation -->
      <div class="completion-overlay" id="completion-overlay">
         <div class="completion-content">
            <div class="completion-icon">🎉</div>
            <h2>Amazing Work!</h2>
            <p>You've completed all your habits for today!</p>
         </div>
         <div class="confetti" id="confetti"></div>
      </div>
      
      <!-- Mobile Header (shown only on mobile) -->
      <div class="mobile-header">
         <div class="mobile-header-left">
            <div class="date-info" id="current-date-mobile"></div>
         </div>
         <div class="mobile-header-center">
            <div class="streak-counter" id="streak-counter-mobile">🌱 Start your streak!</div>
         </div>
         <div class="mobile-header-right">
            <div class="theme-dropdown" id="theme-dropdown-mobile">
               <button class="theme-dropdown-toggle" onclick="toggleThemeDropdown()" id="theme-dropdown-toggle-mobile">
                  <div class="current-theme-icon">
                     <div class="sun"></div>
                     <div class="moon"></div>
                     <div class="bubble-icon"></div>
                     <div class="leaf-icon"></div>
                     <div class="petal-icon"></div>
                     <div class="snowflake-icon"></div>
                     <div class="raindrop-icon"></div>
                  </div>
                  <span class="dropdown-arrow">▼</span>
               </button>
               <div class="theme-dropdown-menu" id="theme-dropdown-menu-mobile">
                  <div class="theme-dropdown-option" data-theme="starry-night">
                     <div class="theme-preview starry-night-preview"></div>
                     <span class="theme-name">Starry Night</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="cloudy-day">
                     <div class="theme-preview cloudy-day-preview"></div>
                     <span class="theme-name">Cloudy Day</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="ocean">
                     <div class="theme-preview ocean-preview"></div>
                     <span class="theme-name">Ocean</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="forest">
                     <div class="theme-preview forest-preview"></div>
                     <span class="theme-name">Forest</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="cherry-blossom">
                     <div class="theme-preview cherry-blossom-preview"></div>
                     <span class="theme-name">Cherry</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="snow">
                     <div class="theme-preview snow-preview"></div>
                     <span class="theme-name">Snow</span>
                  </div>
                  <div class="theme-dropdown-option" data-theme="rain">
                     <div class="theme-preview rain-preview"></div>
                     <span class="theme-name">Rain</span>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <!-- Desktop Header (hidden on mobile) -->
      <div class="top-left-info">
         <div class="date-info" id="current-date"></div>
      </div>
      
      <div class="top-right-info">
         <div class="streak-counter" id="streak-counter">🌱 Start your streak!</div>
         <div class="theme-dropdown" id="theme-dropdown">
            <button class="theme-dropdown-toggle" onclick="toggleThemeDropdown()" id="theme-dropdown-toggle">
                              <div class="current-theme-icon">
         <div class="sun"></div>
         <div class="moon"></div>
                  <div class="bubble-icon"></div>
                  <div class="leaf-icon"></div>
                  <div class="petal-icon"></div>
                  <div class="snowflake-icon"></div>
                  <div class="raindrop-icon"></div>
               </div>
               <span class="dropdown-arrow">▼</span>
      </button>
            <div class="theme-dropdown-menu" id="theme-dropdown-menu">
               <div class="theme-dropdown-option" data-theme="starry-night">
                  <div class="theme-preview starry-night-preview"></div>
                  <span class="theme-name">Starry Night</span>
               </div>
               <div class="theme-dropdown-option" data-theme="cloudy-day">
                  <div class="theme-preview cloudy-day-preview"></div>
                  <span class="theme-name">Cloudy Day</span>
               </div>
               <div class="theme-dropdown-option" data-theme="ocean">
                  <div class="theme-preview ocean-preview"></div>
                  <span class="theme-name">Ocean</span>
               </div>
               <div class="theme-dropdown-option" data-theme="forest">
                  <div class="theme-preview forest-preview"></div>
                  <span class="theme-name">Forest</span>
               </div>
               <div class="theme-dropdown-option" data-theme="cherry-blossom">
                  <div class="theme-preview cherry-blossom-preview"></div>
                  <span class="theme-name">Cherry</span>
               </div>
               <div class="theme-dropdown-option" data-theme="snow">
                  <div class="theme-preview snow-preview"></div>
                  <span class="theme-name">Snow</span>
               </div>
               <div class="theme-dropdown-option" data-theme="rain">
                  <div class="theme-preview rain-preview"></div>
                  <span class="theme-name">Rain</span>
               </div>
            </div>
         </div>
      </div>
      <div class="container">
         <div class="header">
            <h1>Curtain</h1>
            <br>
            <h2>Complete your daily habits</h2>
            <p>Build better habits, one day at a time</p>
            <div class="daily-quote" id="daily-quote">
               <span class="quote-text" id="quote-text"></span>
               <span class="quote-author" id="quote-author"></span>
            </div>
         </div>
         <div class="add-habit">
            <input type="text" id="habit-input" placeholder="Add a new habit" maxlength="100">
            <button class="add-btn" onclick="addHabit()">Add Habit</button>
         </div>
         <div class="progress-section">
            <div class="progress-bar">
               <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text" id="progress-text">0 of 0 habits completed</div>
         </div>
         <div class="habits-list" id="habits-list">
            <div class="empty-state">
               <h3>No habits yet</h3>
               <p>Add your first habit above to get started!</p>
            </div>
         </div>
         <div class="bottom-actions" id="bottom-actions">
            <button class="secondary-reset-btn" onclick="resetCompleted()">Reset</button>
            <button class="secondary-delete-btn" onclick="deleteAllHabits()">Delete All</button>
         </div>
         <div class="footer-info">
            All completed habits will automatically reset at midnight.
            <br>
            Start fresh each day to build consistent habits!
         </div>
      </div>
      <!-- Delete Modal -->
      <div class="modal-overlay" id="delete-modal">
         <div class="modal">
            <h3>Are you sure you want to delete this habit?</h3>
            <div class="modal-buttons">
               <button class="modal-btn cancel" onclick="hideDeleteModal()">Cancel</button>
               <button class="modal-btn confirm" onclick="confirmDelete()">OK</button>
            </div>
         </div>
      </div>
      
      <!-- Alert Modal -->
      <div class="modal-overlay" id="alert-modal">
         <div class="modal">
            <h3 id="alert-message"></h3>
            <div class="modal-buttons">
               <button class="modal-btn ok" onclick="hideAlertModal()">OK</button>
            </div>
         </div>
      </div>
      
      <!-- Confirm Modal -->
      <div class="modal-overlay" id="confirm-modal">
         <div class="modal">
            <h3 id="confirm-message"></h3>
            <div class="modal-buttons">
               <button class="modal-btn cancel" onclick="hideConfirmModal(false)">Cancel</button>
               <button class="modal-btn confirm" onclick="hideConfirmModal(true)">OK</button>
            </div>
         </div>
      </div>
      <script>
         let habits = [];
         let habitToDelete = null;
         let confirmCallback = null;
         let streakData = { count: 0, lastCompletedDate: null };
         let currentTheme = 'starry-night';
         const themes = ['starry-night', 'cloudy-day', 'ocean', 'forest', 'cherry-blossom', 'snow', 'rain'];
         
         const dailyQuotes = [
           { text: "Success is the sum of small efforts repeated day in and day out.", author: "Robert Collier" },
           { text: "We are what we repeatedly do. Excellence, then, is not an act, but a habit.", author: "Aristotle" },
           { text: "The secret of getting ahead is getting started.", author: "Mark Twain" },
           { text: "A journey of a thousand miles begins with a single step.", author: "Lao Tzu" },
           { text: "You don't have to be great to get started, but you have to get started to be great.", author: "Les Brown" },
           { text: "Small daily improvements over time lead to stunning results.", author: "Robin Sharma" },
           { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" },
           { text: "Progress, not perfection.", author: "Anonymous" },
           { text: "Every master was once a beginner. Every pro was once an amateur.", author: "Robin Sharma" },
           { text: "Don't watch the clock; do what it does. Keep going.", author: "Sam Levenson" },
           { text: "The only impossible journey is the one you never begin.", author: "Tony Robbins" },
           { text: "Your future is created by what you do today, not tomorrow.", author: "Robert Kiyosaki" }
         ];
         
         function init() {
           displayCurrentDate();
           displayDailyQuote();
           loadHabits();
           loadStreakData();
           loadTheme();
           renderHabits();
           updateProgress();
           updateStreakDisplay();
           generateBackgroundElements();
           updateThemeSelector();
         }
         
         function displayDailyQuote() {
           const today = new Date();
           const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
           const quoteIndex = dayOfYear % dailyQuotes.length;
           const quote = dailyQuotes[quoteIndex];
           
           document.getElementById('quote-text').textContent = `"${quote.text}"`;
           document.getElementById('quote-author').textContent = `— ${quote.author}`;
         }
         
         function displayCurrentDate() {
           const today = new Date();
           const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
           const mobileOptions = { weekday: 'short', month: 'short', day: 'numeric' };
           
           // Desktop date
           const desktopDate = document.getElementById('current-date');
           if (desktopDate) {
             desktopDate.textContent = today.toLocaleDateString('en-US', options);
           }
           
           // Mobile date (shorter format)
           const mobileDate = document.getElementById('current-date-mobile');
           if (mobileDate) {
             mobileDate.textContent = today.toLocaleDateString('en-US', mobileOptions);
           }
         }
         
         function loadHabits() {
           const today = new Date().toDateString();
           const savedData = localStorage.getItem('habitTracker');
           if (savedData) {
             const data = JSON.parse(savedData);
             if (data.date !== today) {
               habits = data.habits.map(habit => ({ ...habit, completed: false }));
               saveHabits();
             } else {
               habits = data.habits || [];
             }
           }
         }
         
         function saveHabits() {
           const today = new Date().toDateString();
           localStorage.setItem('habitTracker', JSON.stringify({ date: today, habits }));
         }
         
         function loadStreakData() {
           const saved = localStorage.getItem('habitStreak');
           if (saved) {
             streakData = JSON.parse(saved);
           }
         }
         
         function saveStreakData() {
           localStorage.setItem('habitStreak', JSON.stringify(streakData));
         }
         
         function updateStreakDisplay() {
           const streakText = streakData.count === 0 ? '🌱 Start your streak!' : `🔥 ${streakData.count}-day streak`;
           
           // Desktop streak counter
           const desktopStreak = document.getElementById('streak-counter');
           if (desktopStreak) {
             desktopStreak.textContent = streakText;
           }
           
           // Mobile streak counter
           const mobileStreak = document.getElementById('streak-counter-mobile');
           if (mobileStreak) {
             mobileStreak.textContent = streakText;
           }
         }
         
         function checkStreakUpdate() {
           const today = new Date().toDateString();
           const total = habits.length;
           const completed = habits.filter(h => h.completed).length;
           
           if (total > 0 && completed === total) {
             // All habits completed
             if (streakData.lastCompletedDate !== today) {
               const yesterday = new Date();
               yesterday.setDate(yesterday.getDate() - 1);
               const yesterdayStr = yesterday.toDateString();
               
               if (streakData.lastCompletedDate === yesterdayStr) {
                 // Consecutive day
                 streakData.count++;
               } else {
                 // New streak or broken streak
                 streakData.count = 1;
               }
               streakData.lastCompletedDate = today;
               saveStreakData();
               updateStreakDisplay();
               
               // Show completion animation
               showCompletionAnimation();
             }
           } else if (total > 0) {
             // Not all habits completed - check if streak should be broken
             const yesterday = new Date();
             yesterday.setDate(yesterday.getDate() - 1);
             const yesterdayStr = yesterday.toDateString();
             
             if (streakData.lastCompletedDate === yesterdayStr && streakData.count > 0) {
               // Streak is still valid for today
               return;
             }
           }
         }
         
         function showCompletionAnimation() {
           const overlay = document.getElementById('completion-overlay');
           const confetti = document.getElementById('confetti');
           const completionContent = overlay.querySelector('.completion-content');
           
           // Update completion message and icon based on theme
           const icon = completionContent.querySelector('.completion-icon');
           const title = completionContent.querySelector('h2');
           const message = completionContent.querySelector('p');
           
           switch(currentTheme) {
             case 'starry-night':
               icon.textContent = '✨';
               title.textContent = 'Stellar Achievement!';
               message.textContent = 'You\'ve completed all your habits like a shining star!';
               break;
             case 'cloudy-day':
               icon.textContent = '🌟';
               title.textContent = 'Bright Success!';
               message.textContent = 'You\'ve completed all your habits for today!';
               break;
             case 'ocean':
               icon.textContent = '🌊';
               title.textContent = 'Wave of Success!';
               message.textContent = 'You\'ve surfed through all your habits today!';
               break;
             case 'forest':
               icon.textContent = '🌳';
               title.textContent = 'Growing Strong!';
               message.textContent = 'Your habits are flourishing like a mighty forest!';
               break;
             case 'cherry-blossom':
               icon.textContent = '🌸';
               title.textContent = 'Blooming Beautiful!';
               message.textContent = 'Your habits have blossomed perfectly today!';
               break;
             case 'snow':
               icon.textContent = '❄️';
               title.textContent = 'Crystal Clear Success!';
               message.textContent = 'Your habits are as perfect as fresh snow!';
               break;
             case 'rain':
               icon.textContent = '⚡';
               title.textContent = 'Electrifying Achievement!';
               message.textContent = 'You\'ve powered through all your habits like lightning!';
               break;
           }
           
           // Generate theme-specific confetti
           confetti.innerHTML = '';
           generateThemeConfetti(confetti);
           
           // Show overlay
           overlay.classList.add('show');
           
           // Auto-hide after 4 seconds
           setTimeout(() => {
             overlay.classList.remove('show');
           }, 4000);
         }
         
         function generateThemeConfetti(container) {
           const count = 50;
           for (let i = 0; i < count; i++) {
             const piece = document.createElement('div');
             piece.style.left = Math.random() * 100 + '%';
             piece.style.animationDelay = Math.random() * 2 + 's';
             piece.style.animationDuration = (2 + Math.random() * 2) + 's';
             
             switch(currentTheme) {
               case 'starry-night':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#38bdf8', '#0ea5e9', '#f59e0b', '#8b5cf6'][Math.floor(Math.random() * 4)];
                 break;
               case 'cloudy-day':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#fbbf24', '#f59e0b', '#ef4444', '#22c55e', '#3b82f6'][Math.floor(Math.random() * 5)];
                 break;
               case 'ocean':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#06b6d4', '#0891b2', '#0e7490', '#ecfeff'][Math.floor(Math.random() * 4)];
                 piece.style.borderRadius = '50%';
                 break;
               case 'forest':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#22c55e', '#16a34a', '#15803d', '#dcfce7'][Math.floor(Math.random() * 4)];
                 piece.style.borderRadius = '0 100% 0 100%';
                 break;
               case 'cherry-blossom':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#ec4899', '#db2777', '#be185d', '#fdf2f8'][Math.floor(Math.random() * 4)];
                 piece.style.borderRadius = '50% 0 50% 0';
                 break;
               case 'snow':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#0ea5e9', '#0284c7', '#0369a1', '#f0f9ff'][Math.floor(Math.random() * 4)];
                 piece.style.borderRadius = '50%';
                 piece.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                 break;
               case 'rain':
                 piece.className = 'confetti-piece';
                 piece.style.background = ['#3b82f6', '#1d4ed8', '#1e3a8a', '#6b7280'][Math.floor(Math.random() * 4)];
                 piece.style.borderRadius = '0 0 50% 50%';
                 piece.style.width = '3px';
                 piece.style.height = '12px';
                 break;
             }
             
             container.appendChild(piece);
           }
         }
         
         function addHabit() {
           const input = document.getElementById('habit-input');
           const habitText = input.value.trim();
           if (!habitText) return showAlert('Please enter a habit!');
           if (habits.some(h => h.text.toLowerCase() === habitText.toLowerCase())) return showAlert('This habit already exists!');
           habits.push({ id: Date.now(), text: habitText, completed: false });
           input.value = '';
           saveHabits(); renderHabits(); updateProgress();
         }
         
         function addTemplate(templateText) {
           if (habits.some(h => h.text.toLowerCase() === templateText.toLowerCase())) {
             showAlert('This habit already exists!');
             return;
           }
           habits.push({ id: Date.now(), text: templateText, completed: false });
           saveHabits(); renderHabits(); updateProgress();
         }
         
         function toggleHabit(id) {
           habits = habits.map(h => h.id === id ? { ...h, completed: !h.completed } : h);
           saveHabits(); renderHabits(); updateProgress();
         }
         
         function deleteHabit(id) { habitToDelete = id; showDeleteModal(); }
         function showDeleteModal() { document.getElementById('delete-modal').classList.add('show'); }
         function hideDeleteModal() { document.getElementById('delete-modal').classList.remove('show'); habitToDelete = null; }
         
         // Custom Alert Modal
         function showAlert(message) {
           document.getElementById('alert-message').textContent = message;
           document.getElementById('alert-modal').classList.add('show');
         }
         function hideAlertModal() { document.getElementById('alert-modal').classList.remove('show'); }
         
         // Custom Confirm Modal
         function showConfirm(message, callback) {
           document.getElementById('confirm-message').textContent = message;
           confirmCallback = callback;
           document.getElementById('confirm-modal').classList.add('show');
         }
         function hideConfirmModal(result) {
           document.getElementById('confirm-modal').classList.remove('show');
           if (confirmCallback) {
             confirmCallback(result);
             confirmCallback = null;
           }
         }
         function confirmDelete() {
           if (habitToDelete !== null) {
             habits = habits.filter(h => h.id !== habitToDelete);
             saveHabits(); renderHabits(); updateProgress();
           }
           hideDeleteModal();
         }
         
         function renderHabits() {
           const list = document.getElementById('habits-list');
           const footer = document.querySelector('.footer-info');
           const progressSection = document.querySelector('.progress-section');
           const bottomActions = document.getElementById('bottom-actions');
           
           if (habits.length === 0) {
             list.innerHTML = `<div class="empty-state"><span class="emoji">🌱</span><h3>Ready to build great habits?</h3><p>Add your first habit above to get started on your journey!</p></div>`;
             footer.style.display = 'none';
             progressSection.style.display = 'none';
             bottomActions.style.display = 'none';
             return;
           }
           
           footer.style.display = 'block';
           progressSection.style.display = 'block';
           bottomActions.style.display = 'flex';
           list.innerHTML = habits.map(habit => `
             <div class="habit-item ${habit.completed ? 'completed' : ''}">
               <div class="habit-checkbox ${habit.completed ? 'checked' : ''}" onclick="toggleHabit(${habit.id})"></div>
               <span class="habit-text">${habit.text}</span>
               <div class="delete-btn-container">
                 <button class="delete-btn" onclick="deleteHabit(${habit.id})"></button>
               </div>
             </div>
           `).join('');
         }
         
         function updateProgress() {
           const total = habits.length;
           const done = habits.filter(h => h.completed).length;
           const percent = total > 0 ? (done / total) * 100 : 0;
           document.getElementById('progress-fill').style.width = `${percent}%`;
           document.getElementById('progress-text').textContent = `${done} of ${total} habits completed`;
           checkStreakUpdate();
         }
         
         function resetCompleted() {
           habits = habits.map(h => ({ ...h, completed: false }));
           saveHabits(); renderHabits(); updateProgress();
         }
         
         function deleteAllHabits() {
           if (habits.length === 0) return;
           showConfirm('Are you sure you want to delete all habits? This action cannot be undone.', (confirmed) => {
             if (confirmed) {
               habits = [];
               saveHabits(); renderHabits(); updateProgress();
             }
           });
         }
         
         // Theme Management
         function loadTheme() {
           const savedTheme = localStorage.getItem('selectedTheme');
           if (savedTheme && themes.includes(savedTheme)) {
             currentTheme = savedTheme;
           }
           applyTheme(currentTheme);
         }
         
         function saveTheme() {
           localStorage.setItem('selectedTheme', currentTheme);
         }
         
         function applyTheme(theme) {
           const body = document.body;
           // Remove all theme classes
           themes.forEach(t => body.classList.remove(t));
           // Add current theme class
           body.classList.add(theme);
           currentTheme = theme;
           saveTheme();
           updateThemeSelector();
         }
         
                  function toggleTheme() {
           const currentIndex = themes.indexOf(currentTheme);
           const nextIndex = (currentIndex + 1) % themes.length;
           applyTheme(themes[nextIndex]);
           generateBackgroundElements();
         }
         
         function selectTheme(theme) {
           if (themes.includes(theme)) {
             applyTheme(theme);
             generateBackgroundElements();
           }
         }
         
         function toggleThemeDropdown() {
           // Check if we're on mobile or desktop based on screen width
           const isMobile = window.innerWidth <= 768;
           
           if (isMobile) {
             const mobileDropdown = document.getElementById('theme-dropdown-mobile');
             if (mobileDropdown) {
               mobileDropdown.classList.toggle('open');
             }
           } else {
             const desktopDropdown = document.getElementById('theme-dropdown');
             if (desktopDropdown) {
               desktopDropdown.classList.toggle('open');
             }
           }
         }
         
         function updateThemeSelector() {
           const options = document.querySelectorAll('.theme-dropdown-option');
           options.forEach(option => {
             const theme = option.dataset.theme;
             if (theme === currentTheme) {
               option.classList.add('active');
           } else {
               option.classList.remove('active');
             }
           });
         }
         
         // Generate Background Elements
         function generateBackgroundElements() {
           clearBackgroundElements();
           
           switch(currentTheme) {
             case 'starry-night':
               generateStars();
               break;
             case 'cloudy-day':
               generateClouds();
               break;
             case 'ocean':
               generateWaves();
               generateBubbles();
               break;
             case 'forest':
               generateLeaves();
               break;
             case 'cherry-blossom':
               generatePetals();
               break;
             case 'snow':
               generateSnowflakes();
               break;
             case 'rain':
               generateRaindrops();
               break;
           }
         }
         
         function clearBackgroundElements() {
           document.getElementById('stars').innerHTML = '';
           document.getElementById('clouds').innerHTML = '';
           document.getElementById('waves').innerHTML = '';
           document.getElementById('leaves').innerHTML = '';
           document.getElementById('petals').innerHTML = '';
           document.getElementById('snowflakes').innerHTML = '';
           document.getElementById('raindrops').innerHTML = '';
         }
         
         function generateStars() {
           const starsContainer = document.getElementById('stars');
           for (let i = 0; i < 100; i++) {
             const star = document.createElement('div');
             star.className = 'star';
             star.style.top = Math.random() * 100 + 'vh';
             star.style.left = Math.random() * 100 + 'vw';
             star.style.animationDuration = (1 + Math.random() * 2) + 's';
             starsContainer.appendChild(star);
           }
         }
         
         function generateClouds() {
           const cloudsContainer = document.getElementById('clouds');
           for (let i = 0; i < 5; i++) {
             const cloud = document.createElement('div');
             cloud.className = 'cloud';
             const size = 80 + Math.random() * 100;
             cloud.style.width = size + 'px';
             cloud.style.height = size * 0.6 + 'px';
             cloud.style.top = Math.random() * 50 + 'vh';
             cloud.style.animationDuration = (40 + Math.random() * 40) + 's';
             cloudsContainer.appendChild(cloud);
           }
         }
         
         function generateWaves() {
           const wavesContainer = document.getElementById('waves');
           for (let i = 0; i < 3; i++) {
             const wave = document.createElement('div');
             wave.className = 'wave';
             wave.style.animationDelay = `-${i * 2}s`;
             wavesContainer.appendChild(wave);
           }
         }
         
         function generateBubbles() {
           const wavesContainer = document.getElementById('waves');
           for (let i = 0; i < 15; i++) {
             const bubble = document.createElement('div');
             bubble.className = 'bubble';
             const size = 4 + Math.random() * 12;
             bubble.style.width = size + 'px';
             bubble.style.height = size + 'px';
             bubble.style.left = Math.random() * 100 + '%';
             bubble.style.bottom = '-20px'; // Start from bottom
             bubble.style.animationDelay = Math.random() * 6 + 's';
             bubble.style.animationDuration = (4 + Math.random() * 4) + 's';
             wavesContainer.appendChild(bubble);
           }
         }
         
         function generateLeaves() {
           const leavesContainer = document.getElementById('leaves');
           for (let i = 0; i < 20; i++) {
             const leaf = document.createElement('div');
             leaf.className = 'leaf';
             leaf.style.left = Math.random() * 100 + '%';
             leaf.style.top = '-50px'; // Start from above visible area
             leaf.style.animationDelay = Math.random() * 8 + 's';
             leaf.style.animationDuration = (6 + Math.random() * 4) + 's';
             leavesContainer.appendChild(leaf);
           }
         }
         
         function generatePetals() {
           const petalsContainer = document.getElementById('petals');
           for (let i = 0; i < 25; i++) {
             const petal = document.createElement('div');
             petal.className = 'petal';
             petal.style.left = Math.random() * 100 + '%';
             petal.style.top = '-50px'; // Start from above visible area
             petal.style.animationDelay = Math.random() * 10 + 's';
             petal.style.animationDuration = (8 + Math.random() * 4) + 's';
             petalsContainer.appendChild(petal);
           }
         }
         
         function generateSnowflakes() {
           const snowflakesContainer = document.getElementById('snowflakes');
           const snowflakeSymbols = ['❄', '❅', '❆', '✻', '✼', '❉'];
           for (let i = 0; i < 30; i++) {
             const snowflake = document.createElement('div');
             snowflake.className = 'snowflake';
             snowflake.textContent = snowflakeSymbols[Math.floor(Math.random() * snowflakeSymbols.length)];
             snowflake.style.left = Math.random() * 100 + '%';
             snowflake.style.top = '-50px';
             snowflake.style.animationDelay = Math.random() * 10 + 's';
             snowflake.style.animationDuration = (8 + Math.random() * 6) + 's';
             snowflakesContainer.appendChild(snowflake);
           }
         }
         
         function generateRaindrops() {
           const raindropsContainer = document.getElementById('raindrops');
           for (let i = 0; i < 50; i++) {
             const raindrop = document.createElement('div');
             raindrop.className = 'raindrop';
             raindrop.style.left = Math.random() * 100 + '%';
             raindrop.style.top = '-20px';
             raindrop.style.animationDelay = Math.random() * 2 + 's';
             raindrop.style.animationDuration = (0.8 + Math.random() * 0.6) + 's';
             raindropsContainer.appendChild(raindrop);
           }
         }
         
         document.getElementById('habit-input').addEventListener('keypress', e => { if (e.key === 'Enter') addHabit(); });
         document.addEventListener('DOMContentLoaded', init);
         document.getElementById('delete-modal').addEventListener('click', e => { if (e.target === e.currentTarget) hideDeleteModal(); });
         document.getElementById('alert-modal').addEventListener('click', e => { if (e.target === e.currentTarget) hideAlertModal(); });
         document.getElementById('confirm-modal').addEventListener('click', e => { if (e.target === e.currentTarget) hideConfirmModal(false); });
         document.getElementById('completion-overlay').addEventListener('click', e => { if (e.target === e.currentTarget) document.getElementById('completion-overlay').classList.remove('show'); });
         
         // Theme dropdown event listeners
         document.addEventListener('DOMContentLoaded', () => {
           const themeOptions = document.querySelectorAll('.theme-dropdown-option');
           themeOptions.forEach(option => {
             option.addEventListener('click', () => {
               const theme = option.dataset.theme;
               selectTheme(theme);
               // Close both desktop and mobile dropdowns
               const desktopDropdown = document.getElementById('theme-dropdown');
               const mobileDropdown = document.getElementById('theme-dropdown-mobile');
               if (desktopDropdown) desktopDropdown.classList.remove('open');
               if (mobileDropdown) mobileDropdown.classList.remove('open');
             });
           });
           
           // Close dropdown when clicking outside
           document.addEventListener('click', (e) => {
             const desktopDropdown = document.getElementById('theme-dropdown');
             const mobileDropdown = document.getElementById('theme-dropdown-mobile');
             
             if (desktopDropdown && !desktopDropdown.contains(e.target)) {
               desktopDropdown.classList.remove('open');
             }
             if (mobileDropdown && !mobileDropdown.contains(e.target)) {
               mobileDropdown.classList.remove('open');
             }
           });
         });
      </script>
   </body>
</html>
